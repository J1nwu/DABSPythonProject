{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Patient â€“ DABS{% endblock %}</title>

  <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous">

  <link rel="stylesheet" href="{% static 'booking/dashboard.css' %}">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark dabs-topbar">
  <div class="container-fluid">
    <span class="navbar-brand">
      <strong>DABS</strong>
      <small class="d-block" style="font-size: 0.8rem;">
        Doctor Appointment Booking System
      </small>
    </span>

    <span class="navbar-text ms-auto me-3">
      Patient:
      {{ request.user.get_full_name|default:request.user.username }}
    </span>

    <a href="{% url 'logout' %}" class="btn btn-outline-light btn-sm">
      Logout
    </a>
  </div>
</nav>

<div class="dabs-shell">
  <div class="dabs-dashboard-layout">

    <!-- Sidebar -->
    <div class="dashboard-sidebar list-group">
      <a href="{% url 'patient_dashboard' %}"
         class="list-group-item {% if request.path == '/dashboard/patient/' %}active{% endif %}">
        Dashboard
      </a>

      <a href="{% url 'find_doctor' %}"
         class="list-group-item {% if request.path == '/dashboard/patient/find/' %}active{% endif %}">
        Find Doctor
      </a>

      {# "Book Appointment" just redirects to Find Doctor; booking is doctor-specific #}
      <a href="{% url 'find_doctor' %}"
         class="list-group-item {% if request.path == '/dashboard/patient/book/' %}active{% endif %}">
        Book Appointment
      </a>

      <a href="{% url 'my_appointments' %}"
         class="list-group-item {% if request.path == '/dashboard/patient/appointments/' %}active{% endif %}">
        My Appointments
      </a>

      <a href="{% url 'patient_profile' %}"
   class="list-group-item {% if request.path == '/dashboard/patient/profile/' %}active{% endif %}">
  Profile
</a>
        <a href="{% url 'patient_notifications' %}"
   class="list-group-item {% if request.path == '/dashboard/patient/notifications/' %}active{% endif %}">
  Notifications
</a>
    </div>

    <!-- Main content -->
    <main class="dashboard-main">
      {% block content %}{% endblock %}
    </main>

  </div>
</div>

<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
</body>
</html>
