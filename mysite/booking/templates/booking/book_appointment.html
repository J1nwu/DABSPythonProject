{% extends "booking/patient_base.html" %}

{% block title %}Book Appointment â€“ DABS{% endblock %}

{% block content %}
<h3 class="fw-bold mb-4">
  Book Appointment with Dr. {{ doctor.user.first_name }} {{ doctor.user.last_name }}
</h3>

{% if messages %}
  {% for m in messages %}
    <div class="alert alert-{{ m.tags }}">{{ m }}</div>
  {% endfor %}
{% endif %}

<form method="post" class="card p-4 shadow-sm">
  {% csrf_token %}

  <div class="mb-3">
    <label class="form-label">Department *</label>
    <input type="text" name="department" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Hospital *</label>
    <input type="text" name="hospital" class="form-control"
           value="{{ doctor.hospital }}" required>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <label class="form-label">Date *</label>
      <input type="date" name="date" class="form-control"
             min="{{ today }}" required>
    </div>
    <div class="col-md-6 mb-3">
      <label class="form-label">Time *</label>
      <input type="time" name="time" class="form-control" required>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Symptoms / Reason (optional)</label>
    <textarea name="symptoms" class="form-control" rows="3"></textarea>
  </div>

  <div class="d-flex justify-content-between">
    <a href="{% url 'find_doctor' %}" class="btn btn-outline-secondary">
      Back
    </a>
    <button class="btn btn-primary btn-lg" type="submit">
      Confirm Booking
    </button>
  </div>
</form>
{% endblock %}
